# ===================================
# NextAuth Template - Environment Variables
# ===================================

# ===================================
# DATABASE
# ===================================
DATABASE_URL="postgresql://postgres:your_secure_password@localhost:5432/webapp_dev1"

# ===================================
# AUTHENTICATION
# ===================================
# CRITICAL: Generate with: openssl rand -base64 32
# Minimum 32 characters required
AUTH_SECRET="your-secret-key-min-32-chars-change-in-production"

# Application URL (auto-detected in development)
NEXTAUTH_URL="http://localhost:3000"

# Session duration in days (default: 30)
SESSION_MAX_AGE_DAYS="30"

# ===================================
# OAUTH PROVIDERS (Optional)
# ===================================
# Google OAuth - Get credentials from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# GitHub OAuth (if you add it)
# GITHUB_CLIENT_ID="your-github-client-id"
# GITHUB_CLIENT_SECRET="your-github-client-secret"

# ===================================
# EMAIL / SMTP (Optional - can be configured in Admin UI)
# ===================================
# Gmail Example: smtp.gmail.com:587
# Use App Password for Gmail: https://support.google.com/accounts/answer/185833
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="noreply@yourapp.com"

# ===================================
# TELEGRAM ALERTS (Optional - can be configured in Admin UI)
# ===================================
# Get bot token from @BotFather on Telegram
# TELEGRAM_BOT_TOKEN="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
# Get chat ID from @userinfobot
# TELEGRAM_CHAT_ID="-1001234567890"

# ===================================
# APPLICATION SETTINGS
# ===================================
NODE_ENV="development"

# ===================================
# DOCKER / PRODUCTION (Optional)
# ===================================
# PostgreSQL credentials for Docker Compose
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="change-this-in-production"
POSTGRES_DB="webapp_dev1"

# Metabase database password
METABASE_DB_PASS="change-this-in-production"

# ===================================
# RATE LIMITING (Optional - has defaults)
# ===================================
# Max login attempts before rate limiting
# RATE_LIMIT_LOGIN_MAX="5"
# RATE_LIMIT_LOGIN_WINDOW="900"  # 15 minutes in seconds

# ===================================
# SECURITY (Optional)
# ===================================
# CSRF Protection (recommended for production)
# CSRF_SECRET="your-csrf-secret-32-chars-minimum"

# ===================================
# MONITORING & ALERTS (Production)
# ===================================
# Sentry DSN for error tracking
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project"

# Log level: error, warn, info, debug
# LOG_LEVEL="info"

# ===================================
# BACKUP CONFIGURATION
# ===================================
# Backup retention in days (default: 7)
BACKUP_RETENTION_DAYS="7"

# Backup directory (default: /var/backups/webapp)
BACKUP_DIR="/var/backups/webapp"

# PostgreSQL connection for backups
POSTGRES_HOST="localhost"
POSTGRES_PORT="5432"

# S3 Upload for off-site backups (optional)
ENABLE_S3_UPLOAD="false"
S3_BUCKET=""
S3_PREFIX="backups/database"

# Healthchecks.io for backup monitoring (optional)
# Sign up at: https://healthchecks.io
BACKUP_HEALTHCHECK_URL=""

# ===================================
# ALERT NOTIFICATIONS
# ===================================
# Email Alerts
EMAIL_ENABLED="false"
ALERT_EMAIL="admin@yourdomain.com"

# Telegram Alerts
# 1. Create bot: Talk to @BotFather on Telegram, send /newbot
# 2. Get chat ID: Talk to @userinfobot, it will show your chat ID
# 3. For group chats, add bot to group, then use @userinfobot
TELEGRAM_ENABLED="false"
TELEGRAM_BOT_TOKEN=""
TELEGRAM_CHAT_ID=""

# ===================================
# EXTERNAL MONITORING
# ===================================
# Application URL for monitoring (health check endpoint)
APP_URL="http://localhost:3000"

# UptimeRobot, Pingdom, etc. will monitor:
# ${APP_URL}/api/health

# ===================================
# QUICK START FOR DEVELOPMENT
# ===================================
# 1. Copy this file: cp .env.example .env
# 2. Set DATABASE_URL with your PostgreSQL credentials
# 3. Generate AUTH_SECRET: openssl rand -base64 32
# 4. (Optional) Configure OAuth providers
# 5. Run: npm run dev

# ===================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ===================================
# [ ] Change DATABASE_URL to production database
# [ ] Generate secure AUTH_SECRET (min 32 chars)
# [ ] Set NEXTAUTH_URL to your domain (https://yourdomain.com)
# [ ] Change POSTGRES_PASSWORD and METABASE_DB_PASS
# [ ] Configure SMTP for real email sending
# [ ] Set NODE_ENV="production"
# [ ] Remove or disable development OAuth redirect URIs
# [ ] Enable HTTPS/SSL
# [ ] Set up database backups
